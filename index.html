<!DOCTYPE html>
<html lang="az">
<head>
    <meta charset="UTF-8">
    <title>Canlı Saat & Hava Durumu</title>
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <!-- Google Fonts for better typography -->
    <link href="https://fonts.googleapis.com/css2?family=Montserrat:wght@500;700&display=swap" rel="stylesheet">
    <style>
        body {
            background: linear-gradient(135deg, #74ebd5 0%, #9face6 100%);
            min-height: 100vh;
            margin: 0;
            font-family: 'Montserrat', Arial, sans-serif;
            display: flex;
            align-items: center;
            justify-content: center;
        }
        .container {
            background: #fff;
            padding: 2.5rem 2rem 2rem 2rem;
            border-radius: 22px;
            box-shadow: 0 6px 32px 0 rgba(60,60,110,0.15), 0 1.5px 5px 0 rgba(60,60,110,0.04);
            max-width: 340px;
            width: 100%;
            text-align: center;
        }
        .clock {
            font-size: 2.5rem;
            color: #3c4251;
            font-weight: 700;
            letter-spacing: 2px;
            margin-bottom: 8px;
        }
        .date {
            font-size: 1.1rem;
            color: #7b8197;
            margin-bottom: 20px;
            font-weight: 500;
        }
        .city-select {
            margin-bottom: 22px;
        }
        select {
            padding: 7px 12px;
            font-size: 1rem;
            border-radius: 7px;
            border: 1px solid #dedede;
            background: #f4f7fa;
            color: #3c4251;
            outline: none;
            font-family: inherit;
            transition: border 0.2s;
        }
        select:focus {
            border: 1.5px solid #7f9cf5;
        }
        .weather-card {
            background: linear-gradient(120deg, #f4f7fa 80%, #e0eafc 100%);
            border-radius: 17px;
            padding: 20px 10px 18px 10px;
            margin-top: 10px;
            box-shadow: 0 1.5px 6px 0 rgba(60,60,110,0.06);
            display: flex;
            flex-direction: column;
            align-items: center;
        }
        .weather-icon {
            width: 68px;
            height: 68px;
            margin-bottom: 7px;
        }
        .weather-temp {
            font-size: 2rem;
            color: #4a78d4;
            font-weight: 700;
            margin-bottom: 4px;
        }
        .weather-desc {
            font-size: 1.08rem;
            color: #5b6275;
            margin-bottom: 7px;
            font-weight: 500;
            text-transform: capitalize;
        }
        .weather-city {
            font-size: 1.1rem;
            color: #2d3446;
            font-weight: 600;
            margin-bottom: 0;
        }
        .footer {
            color: #8b94b5;
            font-size: 0.93rem;
            margin-top: 30px;
            opacity: 0.73;
        }
        @media (max-width: 420px) {
            .container { max-width: 99vw; padding: 1.1rem 0.2rem 1.2rem 0.2rem; }
            .weather-card { padding: 13px 3px 13px 3px; }
            .clock { font-size: 2.1rem; }
            .weather-icon { width: 60px; height: 60px; }
        }
    </style>
</head>
<body>
    <div class="container">
        <div class="clock" id="clock">00:00:00</div>
        <div class="date" id="date">--</div>
        <div class="city-select">
            <label for="citySelect" style="font-weight:600; color:#555; letter-spacing:0.5px;">Şəhər seçin:</label>
            <br>
            <select id="citySelect">
                <option value="Baku">Bakı</option>
                <option value="Ganja">Gəncə</option>
                <option value="Sumqayit">Sumqayıt</option>
                <option value="Mingachevir">Mingəçevir</option>
                <option value="Shirvan">Şirvan</option>
            </select>
        </div>
        <div class="weather-card" id="weather">
            Hava durumu məlumatı yüklənir...
        </div>
        <div class="footer">
            <span>Made with ❤️ by Mighteria</span>
        </div>
    </div>
    <script>
        // Saat ve tarih güncelle
        function updateClockAndDate() {
            const now = new Date();
            // Saat
            const timeStr = now.toLocaleTimeString("tr-TR", { hour12: false });
            document.getElementById("clock").textContent = timeStr;
            // Tarih
            const dayNames = ["Bazar", "Bazar ertəsi", "Çərşənbə axşamı", "Çərşənbə", "Cümə axşamı", "Cümə", "Şənbə"];
            const day = dayNames[now.getDay()];
            const dateStr = now.toLocaleDateString("az-AZ", { year: "numeric", month: "long", day: "numeric" });
            document.getElementById("date").textContent = day + ", " + dateStr;
        }
        setInterval(updateClockAndDate, 1000);
        updateClockAndDate();

        // Hava durumu
        const API_KEY = '3401e03cb396d39f5f118ac9192f67eb';
        const citySelect = document.getElementById('citySelect');
        const weatherDiv = document.getElementById('weather');

        function updateWeather(city) {
            weatherDiv.innerHTML = "Hava durumu məlumatı yüklənir...";
            fetch(`https://api.openweathermap.org/data/2.5/weather?q=${city},AZ&appid=${API_KEY}&units=metric&lang=az`)
                .then(resp => resp.json())
                .then(data => {
                    if (data.cod !== 200) {
                        weatherDiv.innerHTML = `<span style="color:#c33;font-size:1.05rem;">Hava durumu alına bilmədi.<br>${data.message || ""}</span>`;
                        return;
                    }
                    const desc = data.weather[0].description;
                    const temp = Math.round(data.main.temp);
                    const icon = data.weather[0].icon;
                    const cityName = data.name;
                    weatherDiv.innerHTML = `
                        <img class="weather-icon" src="https://openweathermap.org/img/wn/${icon}@4x.png" alt="icon">
                        <div class="weather-temp">${temp}°C</div>
                        <div class="weather-desc">${desc}</div>
                        <div class="weather-city">${cityName}</div>
                    `;
                })
                .catch(() => weatherDiv.innerHTML = `<span style="color:#c33;font-size:1.05rem;">Hava durumu alına bilmədi.<br>Bağlantı xətası.</span>`);
        }

        citySelect.addEventListener('change', (e) => {
            updateWeather(e.target.value);
        });

        // İlk yüklemede Bakı üçün hava durumu
        updateWeather(citySelect.value);
    </script>
</body>
</html>